<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>git-crypt å®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç¿»è¯‘</title>
  <meta name="description" content="git-crypt ä½¿ Git ä»“åº“ä¸­çš„æ–‡ä»¶å¯ä»¥å®ç°é€æ˜çš„åŠ å¯†å’Œè§£å¯†ã€‚æ‚¨å¯ä»¥é€‰æ‹©éœ€è¦ä¿æŠ¤çš„æ–‡ä»¶ï¼Œåœ¨æäº¤æ—¶è¿›è¡ŒåŠ å¯†ï¼Œåœ¨æ£€å‡ºæ—¶è¿›è¡Œè§£å¯†ã€‚git-crypt å¯ä»¥è®©æ‚¨è‡ªç”±å…±äº«åŒ…å«å…¬å…±å’Œç§æœ‰å†…å®¹çš„ä»“åº“ã€‚å³ä½¿å¼€å‘è€…æ²¡æœ‰å¯†é’¥ï¼Œgit-crypt ä¹Ÿèƒ½è®©å…¶å®ç°å…‹éš†å’Œæäº¤å«æœ‰åŠ å¯†æ–‡ä»¶çš„ä»“åº“ã€‚è¿™æ ·ï¼Œæ‚¨å¯ä»¥å°†ç§˜å¯†èµ„æ–™ï¼ˆå¦‚å¯†é’¥æˆ–å¯†ç ï¼‰å­˜å‚¨åœ¨ä¸ä»£ç ç›¸åŒçš„ä»“åº“ä¸­ï¼Œè€Œä¸éœ€è¦é”å®šæ•´ä¸ªä»“åº“" />
<link rel="canonical" href="https://wardenxyz.github.io/posts/2024/git-crypt_official_doc_zh.html" />
<meta property="og:title" content="git-crypt å®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç¿»è¯‘" />
<meta property="og:description" content="git-crypt ä½¿ Git ä»“åº“ä¸­çš„æ–‡ä»¶å¯ä»¥å®ç°é€æ˜çš„åŠ å¯†å’Œè§£å¯†ã€‚æ‚¨å¯ä»¥é€‰æ‹©éœ€è¦ä¿æŠ¤çš„æ–‡ä»¶ï¼Œåœ¨æäº¤æ—¶è¿›è¡ŒåŠ å¯†ï¼Œåœ¨æ£€å‡ºæ—¶è¿›è¡Œè§£å¯†ã€‚git-crypt å¯ä»¥è®©æ‚¨è‡ªç”±å…±äº«åŒ…å«å…¬å…±å’Œç§æœ‰å†…å®¹çš„ä»“åº“ã€‚å³ä½¿å¼€å‘è€…æ²¡æœ‰å¯†é’¥ï¼Œgit-crypt ä¹Ÿèƒ½è®©å…¶å®ç°å…‹éš†å’Œæäº¤å«æœ‰åŠ å¯†æ–‡ä»¶çš„ä»“åº“ã€‚è¿™æ ·ï¼Œæ‚¨å¯ä»¥å°†ç§˜å¯†èµ„æ–™ï¼ˆå¦‚å¯†é’¥æˆ–å¯†ç ï¼‰å­˜å‚¨åœ¨ä¸ä»£ç ç›¸åŒçš„ä»“åº“ä¸­ï¼Œè€Œä¸éœ€è¦é”å®šæ•´ä¸ªä»“åº“" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wardenxyz.github.io/posts/2024/git-crypt_official_doc_zh.html" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="git-crypt å®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç¿»è¯‘" />
<meta name="twitter:description" content="git-crypt ä½¿ Git ä»“åº“ä¸­çš„æ–‡ä»¶å¯ä»¥å®ç°é€æ˜çš„åŠ å¯†å’Œè§£å¯†ã€‚æ‚¨å¯ä»¥é€‰æ‹©éœ€è¦ä¿æŠ¤çš„æ–‡ä»¶ï¼Œåœ¨æäº¤æ—¶è¿›è¡ŒåŠ å¯†ï¼Œåœ¨æ£€å‡ºæ—¶è¿›è¡Œè§£å¯†ã€‚git-crypt å¯ä»¥è®©æ‚¨è‡ªç”±å…±äº«åŒ…å«å…¬å…±å’Œç§æœ‰å†…å®¹çš„ä»“åº“ã€‚å³ä½¿å¼€å‘è€…æ²¡æœ‰å¯†é’¥ï¼Œgit-crypt ä¹Ÿèƒ½è®©å…¶å®ç°å…‹éš†å’Œæäº¤å«æœ‰åŠ å¯†æ–‡ä»¶çš„ä»“åº“ã€‚è¿™æ ·ï¼Œæ‚¨å¯ä»¥å°†ç§˜å¯†èµ„æ–™ï¼ˆå¦‚å¯†é’¥æˆ–å¯†ç ï¼‰å­˜å‚¨åœ¨ä¸ä»£ç ç›¸åŒçš„ä»“åº“ä¸­ï¼Œè€Œä¸éœ€è¦é”å®šæ•´ä¸ªä»“åº“" />
<script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "headline": "git-crypt å®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç¿»è¯‘", "datePublished": "2024-07-01T00:00:00", "url": "https://wardenxyz.github.io/posts/2024/git-crypt_official_doc_zh.html", "keywords": "git-crypt,git", "inLanguage": "zh-CN"}</script>
  
  <!-- Performance optimizations -->
  <meta name="color-scheme" content="light dark" />
  <meta name="theme-color" content="#ffffff" />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
  
  <!-- Critical CSS -->
  <link rel="stylesheet" href="../../static/style.css" />
  <link rel="icon" href="../../static/favicon.svg" type="image/svg+xml" />
  <link rel="alternate" type="application/rss+xml" title="My Blog" href="../../feed.xml" />
  
  <!-- Apply saved theme early to avoid FOUC -->
  <script>
    (function(){
      try{
        var t = localStorage.getItem('theme');
        if(t === 'light' || t === 'dark'){
          document.documentElement.setAttribute('data-theme', t);
        }
      }catch(_e){/* noop */}
    })();
    
    // Register Service Worker for better caching
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        var basePath = (document.body && document.body.getAttribute('data-base')) || '';
        var scope = basePath || './';
        if (scope.charAt(scope.length - 1) !== '/') {
          scope += '/';
        }
        var swUrl = (basePath || '') + 'static/sw.js';
        navigator.serviceWorker.register(swUrl, { scope: scope })
          .then(function(registration) {
            console.log('SW registered with scope: ', registration.scope);
          })
          .catch(function(error) {
            console.log('SW registration failed: ', error);
          });
      });
    }
  </script>
  
  <!-- MathJax: only load when page actually contains math -->
  <script>
    (function(){
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']],
          processEscapes: true,
          processEnvironments: true,
          tags: 'ams'
        },
        options: {
          ignoreHtmlClass: 'tex2jax_ignore',
          processHtmlClass: 'tex2jax_process'
        },
        svg: {
          fontCache: 'global'
        }
      };

      function pageHasMath(){
        try{
          var content = document.getElementById('content');
          if(!content) return false;
          var text = content.textContent || '';
          return /\$[^$]+\$|\\\(|\\\[|\\begin\{equation\}/.test(text);
        }catch(_e){
          return false;
        }
      }

      function loadMathJax(){
        if(document.getElementById('MathJax-script')) return;
        var s = document.createElement('script');
        s.id = 'MathJax-script';
        s.async = true;
        s.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js';
        document.head.appendChild(s);
      }

      if(document.readyState === 'loading'){
        document.addEventListener('DOMContentLoaded', function(){
          if(pageHasMath()) loadMathJax();
        });
      }else{
        if(pageHasMath()) loadMathJax();
      }
    })();
  </script>
  
  <!-- Mermaid Diagram -->
  <script>
    // Optimize Mermaid loading
    function loadMermaid() {
      if (document.querySelector('.mermaid')) {
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js';
        script.defer = true;
        script.onload = function() {
          if(window.mermaid && mermaid.initialize){
            const dt = document.documentElement.getAttribute('data-theme');
            const theme = dt === 'dark' ? 'dark' : (dt === 'light' ? 'default' : ((window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'default'));
            mermaid.initialize({ startOnLoad: true, theme });
            if(mermaid.run){
              try{ mermaid.run({ querySelector: '.mermaid' }); }catch(e){}
            }
          }
        };
        document.head.appendChild(script);
      }
    }
    
    // Load Mermaid only when needed
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadMermaid);
    } else {
      loadMermaid();
    }
  </script>
</head>
<body data-base="../../">
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="../../index.html">My Blog</a>
  <button class="menu-toggle" id="menuToggle" aria-label="æ‰“å¼€èœå•" aria-controls="primaryNav" aria-expanded="false">â˜°</button>
      <button class="icon-button search-toggle" id="searchToggle" aria-label="æ‰“å¼€æœç´¢" title="æœç´¢" aria-haspopup="dialog" aria-expanded="false">ğŸ”</button>
      <button class="drawer-toggle sidebar-toggle" id="sidebarToggle" aria-label="æ‰“å¼€æ–‡ç« ç›®å½•" aria-controls="sidebar" aria-expanded="false">æ–‡ç« ç›®å½•</button>
      <button class="drawer-toggle toc-toggle" id="tocToggle" aria-label="æ‰“å¼€å¤§çº²" aria-controls="toc" aria-expanded="false">å¤§çº²</button>
      <button class="theme-toggle" id="themeToggle" aria-label="åˆ‡æ¢ä¸»é¢˜" title="åˆ‡æ¢ä¸»é¢˜">ğŸ–¥ï¸</button>
      <nav class="nav" id="primaryNav">
        <a class="nav-link" href="../../index.html">é¦–é¡µ</a>
        <a class="nav-link" href="../../categories.html">Categories</a>
        <a class="nav-link" href="../../tags.html">Tags</a>
        <a class="nav-link github" href="https://github.com/wardenxyz" target="_blank" rel="noopener">GitHub</a>
      </nav>
    </div>
  </header>

  <main class="container layout layout-3">
    <aside class="sidebar-col" id="sidebar">
      <nav class="sidebar" aria-label="æ‰€æœ‰æ–‡ç« "><div class="sidebar-group"><div class="sidebar-year">Others</div><ul><li><a href="../../index.html">Home</a></li><li><a href="../../categories.html">Categories</a></li><li><a href="../../tags.html">Tags</a></li></ul></div><div class="sidebar-group"><div class="sidebar-year">2025</div><ul><li><a href="../2025/zed-REPL-guide.html">å¦‚ä½•åœ¨ zed ä¸­é…ç½® REPLï¼ˆpythonï¼‰</a></li><li><a href="../2025/win11-context-menu-to-win10-context-menu.html">win11 å³é”®èœå•åˆ‡æ¢åˆ° win10 å³é”®èœå•</a></li><li><a href="../2025/How-to-Search-for-AI-API-Keys-on-GitHub.html">GitHub æ‰“é‡æŒ‡å—</a></li><li><a href="../2025/SOPS.html">SOPS:Secrets OPerationS</a></li><li><a href="../2025/age.html">age-note</a></li><li><a href="../2025/yt-dlp.html">yt-dlp ä½¿ç”¨</a></li><li><a href="../2025/cross-platform-byte-control.md.html">è·¨ç³»ç»Ÿé¿å…æ¢è¡Œç¬¦å¯¼è‡´å­—èŠ‚å·®å¼‚çš„æ–¹æ³•</a></li><li><a href="../2025/introduce-passkey.html">Passkey:Secure,Convenient Login</a></li><li><a href="../2025/npm-config.html">ä¿®æ”¹ npm node_modules ä½ç½®</a></li><li><a href="../2025/powershell-get-command.html">PowerShell Get-Command å‘½ä»¤</a></li><li><a href="../2025/git-hook.html">è‡ªç”¨ git hook</a></li><li><a href="../2025/background-color.html">èƒŒæ™¯é¢œè‰²</a></li><li><a href="../2025/typst-syntax-simple-introduction.html">Typst è¯­æ³•ç®€å•ä»‹ç»</a></li><li><a href="../2025/shut-wps-background-runing.html">å…³é—­ WPS åå°è¿è¡Œ</a></li><li><a href="../2025/font.html">ä¸ªäººå­—ä½“</a></li><li><a href="../2025/github-avatar.html">GitHub å¤´åƒ</a></li><li><a href="../2025/regex-note.html">æ­£åˆ™è¡¨è¾¾å¼ç®€æ˜æŒ‡å—</a></li><li><a href="../2025/Rollback-commit.html">å›æ»šæäº¤</a></li><li><a href="../2025/use_python_gen_site.html">ä½¿ç”¨ Python ç”Ÿæˆé™æ€ç½‘é¡µ</a></li><li><a href="../2025/install_wsl2_and_to_d_disk.html">å®‰è£… WSL2 å¹¶è¿ç§»åˆ° D ç›˜</a></li><li><a href="../2025/zed_use_typstyle.html">åœ¨ zed ä¸Šé…ç½® typstyle</a></li><li><a href="../2025/Rust_Windows_Config.html">åœ¨ Windows ä¸Šé…ç½® Rust ç¯å¢ƒ</a></li><li><a href="../2025/conda_note.html">conda ä½¿ç”¨ç¬”è®°</a></li><li><a href="../2025/Zed_set_OpenAI_API_Compatible_model.html">åœ¨ Zed Editor ä¸­é…ç½® OpenAI API å…¼å®¹çš„æ¨¡å‹</a></li><li><a href="../2025/zed_use.html">zed ä½¿ç”¨ç¬”è®°</a></li><li><a href="../2025/ollama_run_deepseek.html">ollama è¿è¡Œ DeepSeek æ¨¡å‹</a></li></ul></div><div class="sidebar-group"><div class="sidebar-year">2024</div><ul><li><a href="pull_request_steps.html">Pull Request çš„æ­¥éª¤</a></li><li><a href="Typst_note.html">Typst ç¬”è®°</a></li><li><a href="git_reset.html">git é‡ç½®å½“å‰åˆ†æ”¯</a></li><li><a href="vitepress_note.html">vitepress å­¦ä¹ ç¬”è®°</a></li><li><a href="deploy_gitHub_page.html">GitHub page æ­å»ºå­¦ä¹ ç¬”è®°</a></li><li><a href="Linux_note.html">Linux å­¦ä¹ ç¬”è®°</a></li><li><a href="python_note.html">python å­¦ä¹ ç¬”è®°</a></li><li><a href="OpenSSL_encrypt_note.html">OpenSSL åŠ è§£å¯†é€ŸæŸ¥ç¬”è®°</a></li><li><a href="lazy.nvim_note.html">lazy.nvim å­¦ä¹ ç¬”è®°</a></li><li><a href="git-izer_note.html">git-sizer å­¦ä¹ ç¬”è®°</a></li><li><a href="git_force_overwrite_local_repo.html">git å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»“åº“</a></li><li><a href="personal_software.html">ä¸ªäººè‡ªç”¨è½¯ä»¶</a></li><li><a href="bilibili_embedding_code.html">Bç«™åµŒå…¥ä»£ç </a></li><li><a href="you-get_note.html">ç”¨ you-get ä¸‹è½½Bç«™è§†é¢‘</a></li><li><a href="git-crypt_note.html">git-crypt å­¦ä¹ ç¬”è®°</a></li><li><a href="gen_GPG_key.html">ç”Ÿæˆ GPG å¯†é’¥</a></li><li><a href="git-crypt_official_doc.html">git-crypt å®˜æ–¹æ–‡æ¡£</a></li><li><a href="git-crypt_official_doc_zh.html" class="active">git-crypt å®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç¿»è¯‘</a></li><li><a href="README_outline.html">README æ–‡æ¡£ç»“æ„</a></li><li><a href="git_commit_message_standard.html">git commit message è§„èŒƒ</a></li><li><a href="vscode_snippets_variable.html">vscode snippets é¢„ç½®å˜é‡</a></li><li><a href="vscode_note.html">VSCode é«˜æ•ˆä½¿ç”¨æŒ‡å—</a></li><li><a href="vim_note.html">Vim é«˜æ•ˆé€ŸæŸ¥ç¬”è®°</a></li><li><a href="LaTeX_note.html">LaTeX ä¸å¸Œè…Šå­—æ¯å¯¹ç…§è¡¨</a></li><li><a href="ffmpeg_note.html">ffmpeg è‡ªç”¨å‘½ä»¤</a></li><li><a href="gpg_communication.html">GPG åœ¨é€šä¿¡ä¸­çš„ç®€å•ç†è§£</a></li><li><a href="git_branch.html">git åˆ†æ”¯æ“ä½œ</a></li><li><a href="former_doctor_who.html">ç¥ç§˜åšå£«å¤æ´»æ—¶é—´è¡¨</a></li><li><a href="modern_cryptography.html">ç°ä»£åŠ å¯†å­¦</a></li><li><a href="obsidian_shortcut_key.html">obsidianå¿«æ·é”®</a></li><li><a href="remove_file_from_git_history.html">ä» git æäº¤ä¸­ç§»é™¤æ–‡ä»¶</a></li><li><a href="git_Cli.html">git å‘½ä»¤æ‰‹å†Œ</a></li><li><a href="browser_UA_value.html">æµè§ˆå™¨UAå€¼</a></li><li><a href="qqmail_third_party_config.html">ç¬¬ä¸‰æ–¹é‚®ç®±å®¢æˆ·ç«¯é…ç½®QQmail & Foxmail</a></li><li><a href="android_QQ_file_storage_path.html">æ‰‹æœºQQæ–‡ä»¶å­˜å‚¨è·¯å¾„</a></li></ul></div></nav>
    </aside>
    <article class="content" id="content">
  <div class="post-meta" aria-label="æ–‡ç« å…ƒä¿¡æ¯"><span class="meta-item meta-date" title="å‘å¸ƒæ—¥æœŸ">ğŸ“… 2024-07-01</span><span class="meta-item" title="åˆ†ç±»">ğŸ“‚ <span class="badge badge-cat">è®¡ç®—æœº</span></span><span class="meta-item" title="æ ‡ç­¾">ğŸ·ï¸ <span class="badge badge-tag">git-crypt</span><span class="badge badge-tag">git</span></span></div>
  <h1 id="git-crypt">git-crypt å®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç¿»è¯‘</h1>
<h2 id="git-crypt-git">git-crypt - Git ä¸­çš„é€æ˜æ–‡ä»¶åŠ å¯†</h2>
<p>git-crypt ä½¿ Git ä»“åº“ä¸­çš„æ–‡ä»¶å¯ä»¥å®ç°é€æ˜çš„åŠ å¯†å’Œè§£å¯†ã€‚æ‚¨å¯ä»¥é€‰æ‹©éœ€è¦ä¿æŠ¤çš„æ–‡ä»¶ï¼Œåœ¨æäº¤æ—¶è¿›è¡ŒåŠ å¯†ï¼Œåœ¨æ£€å‡ºæ—¶è¿›è¡Œè§£å¯†ã€‚git-crypt å¯ä»¥è®©æ‚¨è‡ªç”±å…±äº«åŒ…å«å…¬å…±å’Œç§æœ‰å†…å®¹çš„ä»“åº“ã€‚å³ä½¿å¼€å‘è€…æ²¡æœ‰å¯†é’¥ï¼Œgit-crypt ä¹Ÿèƒ½è®©å…¶å®ç°å…‹éš†å’Œæäº¤å«æœ‰åŠ å¯†æ–‡ä»¶çš„ä»“åº“ã€‚è¿™æ ·ï¼Œæ‚¨å¯ä»¥å°†ç§˜å¯†èµ„æ–™ï¼ˆå¦‚å¯†é’¥æˆ–å¯†ç ï¼‰å­˜å‚¨åœ¨ä¸ä»£ç ç›¸åŒçš„ä»“åº“ä¸­ï¼Œè€Œä¸éœ€è¦é”å®šæ•´ä¸ªä»“åº“ã€‚</p>
<p>git-crypt æ˜¯ç”± <a href="https://www.agwa.name" rel="noopener noreferrer" target="_blank">Andrew Ayer</a>ï¼ˆ <a href="mailto:agwa@andrewayer.name">agwa@andrewayer.name</a> ï¼‰ç¼–å†™çš„ã€‚
æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—® <a href="https://www.agwa.name/projects/git-crypt" rel="noopener noreferrer" target="_blank">https://www.agwa.name/projects/git-crypt</a>ã€‚</p>
<h2 id="git-crypt_1">æ„å»º git-crypt</h2>
<p>å‚è€ƒ <a href="https://github.com/AGWA/git-crypt/blob/master/INSTALL.md" rel="noopener noreferrer" target="_blank">INSTALL.md</a> â€‹ æ–‡ä»¶è¿›è¡Œå®‰è£…ã€‚</p>
<h2 id="git-crypt_2">ä½¿ç”¨ git-crypt</h2>
<p>é…ç½®ä»“åº“ä»¥ä½¿ç”¨ git-cryptï¼š</p>
<pre class="highlight"><code>cd repo
git-crypt init</code></pre>
<p>é€šè¿‡åˆ›å»º .gitattributes æ–‡ä»¶æ¥æŒ‡å®šè¦åŠ å¯†çš„æ–‡ä»¶ï¼š</p>
<pre class="highlight"><code>secretfile filter=git-crypt diff=git-crypt
*.key filter=git-crypt diff=git-crypt
secretdir/** filter=git-crypt diff=git-crypt</code></pre>
<p>.gitattributes æ–‡ä»¶è·Ÿ .gitignore ç±»ä¼¼ï¼Œå¯ä»¥åŒ¹é…é€šé…ç¬¦ï¼Œå¹¶ä¸”åº”è¯¥æäº¤åˆ°ä»“åº“é‡Œã€‚æ›´å¤šä¿¡æ¯å¯ä»¥æŸ¥çœ‹ä¸‹æ–¹å†…å®¹ã€‚è¯·ç¡®è®¤ä¸è¦é”™è¯¯åœ°åŠ å¯†äº† .gitattributes æ–‡ä»¶æœ¬èº«ï¼ˆæˆ–è€…å…¶ä»– Git æ–‡ä»¶ï¼Œä¾‹å¦‚ .gitignore æˆ–è€… .gitmodulesï¼‰ã€‚è¯·ç¡®è®¤ä½ çš„ .gitattributes è§„åˆ™å·²ç»ç”Ÿæ•ˆ<em>åœ¨æäº¤æ•æ„Ÿæ–‡ä»¶ä¹‹å‰</em>ï¼Œå¦åˆ™è¿™äº›æ–‡ä»¶å°†ä¸ä¼šè¢«åŠ å¯†ï¼</p>
<p>ä½¿ç”¨ GPG åˆ†äº«ä»“åº“ï¼ˆç»™ä»–äººæˆ–è‡ªå·±ï¼‰ï¼š</p>
<pre class="highlight"><code>git-crypt add-gpg-user USER_ID</code></pre>
<p>â€‹ <code>USER_ID</code> â€‹ å¯ä»¥æ˜¯ä¸€ä¸ªå¯†é’¥ IDã€å®Œæ•´æŒ‡çº¹ã€ç”µå­é‚®ä»¶åœ°å€æˆ–
å…¶ä»–ä»»ä½•å”¯ä¸€æ ‡è¯† GPG å…¬é’¥çš„æ–¹å¼ï¼ˆå‚è§ gpg æ‰‹å†Œé¡µä¸­çš„ "HOW TO
SPECIFY A USER ID"ï¼‰ã€‚æ³¨æ„ï¼š<code>git-crypt add-gpg-user</code> â€‹ ä¼š
åœ¨ä»“åº“æ ¹ç›®å½•çš„ .git-crypt ç›®å½•ä¸‹æ·»åŠ å¹¶æäº¤ä¸€ä¸ª GPG åŠ å¯†çš„å¯†é’¥æ–‡ä»¶ã€‚</p>
<p>å¦å¤–ï¼Œä½ å¯ä»¥å¯¼å‡ºä¸€ä¸ªå¯¹ç§°å¯†é’¥ï¼Œå®‰å…¨åœ°ä¼ é€’ç»™åä½œè€…å³å¯ï¼ˆæ— éœ€ GPGï¼Œä¹Ÿä¸ä¼šåœ¨ä»“åº“ä¸­å¢åŠ æ–‡ä»¶ï¼‰ï¼š</p>
<pre class="highlight"><code>git-crypt export-key /path/to/key</code></pre>
<p>å…‹éš†åŒ…å«åŠ å¯†æ–‡ä»¶çš„å­˜å‚¨åº“åï¼Œä½¿ç”¨ GPG è¿›è¡Œè§£å¯†ï¼š</p>
<pre class="highlight"><code>git-crypt unlock</code></pre>
<p>æˆ–è€…ä½¿ç”¨å¯¹ç§°å¯†é’¥ï¼š</p>
<pre class="highlight"><code>git-crypt unlock /path/to/key</code></pre>
<p>è¿™å°±æ˜¯ä½ éœ€è¦åšçš„å…¨éƒ¨å·¥ä½œâ€”â€”åœ¨ <code>git-crypt</code> â€‹ é…ç½®å®Œæˆåï¼ˆæ— è®ºæ˜¯é€šè¿‡ <code>git-crypt init</code> â€‹ è¿˜æ˜¯ <code>git-crypt unlock</code> â€‹ï¼‰ï¼Œä½ å¯ä»¥åƒå¾€å¸¸ä¸€æ ·ä½¿ç”¨ <code>git</code> â€‹ã€‚åŠ å¯†å’Œè§£å¯†è¿‡ç¨‹ä¼šé€æ˜åœ°è¿›è¡Œã€‚</p>
<h2 id="_1">å½“å‰çŠ¶æ€</h2>
<p>git-crypt çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ <a href="https://github.com/AGWA/git-crypt/blob/master/NEWS.md" rel="noopener noreferrer" target="_blank">0.7.0</a>ï¼Œå‘å¸ƒäº
2022-04-21ã€‚git-crypt æ—¨åœ¨å®ç°æ— ç¼ºé™·ä¸”å¯é ï¼Œå³å®ƒä¸åº”å´©æºƒã€å¤±æ•ˆæˆ–æ³„éœ²æ‚¨çš„æœºå¯†æ•°æ®ã€‚ç„¶è€Œï¼Œå®ƒå°šæœªæˆç†Ÿï¼Œå³å®ƒçš„æ–‡æ¡£ã€åŠŸèƒ½ä¸°å¯Œæ€§æˆ–æ˜“ç”¨æ€§å°šæœªè¾¾åˆ°åº”æœ‰çš„æ°´å¹³ã€‚æ­¤å¤–ï¼Œåœ¨ 1.0 ç‰ˆæœ¬ä¹‹å‰ï¼Œå¯èƒ½ä¼šå¼•å…¥ä¸å‘åå…¼å®¹çš„å˜æ›´ã€‚</p>
<h2 id="_2">å®‰å…¨æ€§</h2>
<p>git-crypt æ¯”å…¶ä»–é€æ˜çš„ git åŠ å¯†ç³»ç»Ÿæ›´å®‰å…¨ã€‚
git-crypt ä½¿ç”¨ AES-256 åœ¨ CTR æ¨¡å¼ä¸‹åŠ å¯†æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ä»æ–‡ä»¶çš„ SHA-1 HMAC æ´¾ç”Ÿçš„åˆæˆ IVã€‚
è¿™ç§æ“ä½œæ¨¡å¼åœ¨ç¡®å®šæ€§é€‰æ‹©æ˜æ–‡æ”»å‡»ä¸‹è¢«è¯æ˜æ˜¯è¯­ä¹‰å®‰å…¨çš„ã€‚
è¿™æ„å‘³ç€å°½ç®¡åŠ å¯†æ˜¯ç¡®å®šæ€§çš„ï¼ˆè¿™æ˜¯å¿…éœ€çš„ï¼Œä»¥ä¾¿ git å¯ä»¥åŒºåˆ†æ–‡ä»¶æ˜¯å¦å·²æ›´æ”¹ï¼‰ï¼Œ
ä½†å®ƒä¸ä¼šæ³„éœ²ä»»ä½•ä¿¡æ¯ï¼Œåªä¼šæš´éœ²ä¸¤ä¸ªæ–‡ä»¶æ˜¯å¦ç›¸åŒã€‚
å…¶ä»–é€æ˜çš„ git åŠ å¯†æ–¹æ¡ˆä½¿ç”¨ ECB æˆ– CBC æ¨¡å¼å’Œå›ºå®š IVã€‚è¿™äº›ç³»ç»Ÿåœ¨è¯­ä¹‰ä¸Šä¸å®‰å…¨ï¼Œä¼šæ³„éœ²ä¿¡æ¯ã€‚</p>
<h2 id="_3">å±€é™æ€§</h2>
<p>git-crypt ä¾èµ–äº git è¿‡æ»¤å™¨ï¼Œè€Œè¿™äº›è¿‡æ»¤å™¨å¹¶éä¸ºåŠ å¯†è®¾è®¡ã€‚å› æ­¤ï¼Œgit-crypt å¹¶éåŠ å¯†ç‰ˆæœ¬åº“ä¸­å¤§å¤šæ•°æˆ–å…¨éƒ¨æ–‡ä»¶çš„æœ€ä½³å·¥å…·ã€‚git-crypt çœŸæ­£æ“…é•¿çš„æ˜¯è¿™æ ·ä¸€ç§åœºæ™¯ï¼šä½ çš„ç‰ˆæœ¬åº“ç»å¤§å¤šæ•°å†…å®¹æ˜¯å…¬å¼€çš„ï¼Œä½†å…¶ä¸­æœ‰ä¸€äº›æ–‡ä»¶ï¼ˆå¯èƒ½æ˜¯ä¸€ç»„å‘½åä¸º*. key çš„ç§é’¥ï¼Œæˆ–æ˜¯ä¸€ä¸ªå«æœ‰ API å‡­è¯çš„æ–‡ä»¶ï¼‰éœ€è¦åŠ å¯†ã€‚å¦‚æœéœ€è¦åŠ å¯†æ•´ä¸ªç‰ˆæœ¬åº“ï¼Œè€ƒè™‘ä½¿ç”¨ <a href="https://spwhitton.name/tech/code/git-remote-gcrypt/" rel="noopener noreferrer" target="_blank">git-remote-gcrypt</a> è¿™ç±»å·¥å…·ã€‚ï¼ˆæ³¨ï¼šæœ¬æ–‡ä¸å¯¹ git-remote-gcrypt çš„å®‰å…¨æ€§ä½œå‡ºè¯„ä»·ã€‚ï¼‰</p>
<p>git-crypt ä¸ä¼šåŠ å¯†æ–‡ä»¶åã€æäº¤ä¿¡æ¯ã€ç¬¦å·é“¾æ¥ç›®æ ‡ã€gitlink æˆ–å…¶ä»–å…ƒæ•°æ®ã€‚</p>
<p>git-crypt æ— æ³•éšè—æ–‡ä»¶æ˜¯å¦å‘ç”Ÿæ›´æ”¹ã€æ–‡ä»¶é•¿åº¦ï¼Œæˆ–è€…ä¸¤ä¸ªæ–‡ä»¶å®Œå…¨ç›¸åŒè¿™ä¸€äº‹å®ï¼ˆå‚è§ä¸Šæ–¹â€œå®‰å…¨æ€§â€éƒ¨åˆ†ï¼‰</p>
<p>git-crypt å¹¶ä¸æ”¯æŒæ’¤é”€å¯¹ä¹‹å‰å·²æˆäºˆè®¿é—®æƒé™çš„åŠ å¯†ä»“åº“çš„è®¿é—®ã€‚è¿™æ—¢é€‚ç”¨äºå¤šç”¨æˆ· GPG æ¨¡å¼ï¼ˆæ²¡æœ‰ del-gpg-user å‘½ä»¤æ¥è¡¥å…… add-gpg-userï¼‰ï¼Œä¹Ÿé€‚ç”¨äºå¯¹ç§°å¯†é’¥æ¨¡å¼ï¼ˆä¸æ”¯æŒè½®æ¢å¯†é’¥ï¼‰ã€‚è¿™æ˜¯å› ä¸ºï¼Œåœ¨å†å²æ•°æ®çš„èƒŒæ™¯ä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå›ºæœ‰çš„å¤æ‚é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå³ä½¿æŸä¸ªæ—¶åˆ»å¯†é’¥è¢«è½®æ¢äº†ï¼Œæ‹¥æœ‰ä¹‹å‰å¯†é’¥çš„ç”¨æˆ·ä»ç„¶å¯ä»¥è®¿é—®ä¹‹å‰çš„ä»“åº“å†å²ã€‚è¿™ä¸ªé—®é¢˜åœ¨ <a href="https://github.com/AGWA/git-crypt/issues/47" rel="noopener noreferrer" target="_blank">https://github.com/AGWA/git-crypt/issues/47</a> ä¸­æœ‰æ›´è¯¦ç»†çš„è®¨è®ºã€‚</p>
<p>ä½¿ç”¨ git-crypt åŠ å¯†çš„æ–‡ä»¶æ— æ³•è¢«å‹ç¼©ã€‚å³ä½¿å¯¹åŠ å¯†æ–‡ä»¶åšäº†æœ€å¾®å°çš„æ”¹åŠ¨ï¼Œgit ä¹Ÿå¾—å­˜å‚¨æ”¹åŠ¨åçš„æ•´ä¸ªæ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä»…ä»…å­˜å‚¨æ”¹åŠ¨éƒ¨åˆ†ã€‚</p>
<p>è™½ç„¶ git-crypt ä½¿ç”¨ SHA-1 HMAC ä¿æŠ¤å•ä¸ªæ–‡ä»¶å†…å®¹ï¼Œä½†å¦‚æœæ•´ä¸ªä»“åº“æ²¡æœ‰åšé˜²ç¯¡æ”¹ä¿æŠ¤ï¼Œgit-crypt å°±ä¸èƒ½å®‰å…¨ä½¿ç”¨ï¼ˆå¦‚æœæ”»å‡»è€…å¯ä»¥ç¯¡æ”¹ä½ çš„ä»“åº“ï¼Œä»–ä»¬å°±å¯ä»¥ä¿®æ”¹ä½ çš„. gitattributes æ–‡ä»¶æ¥ç¦ç”¨åŠ å¯†ï¼‰ã€‚å¦‚æœå¿…è¦ï¼Œå¯ä»¥ä½¿ç”¨ git çš„ç‰¹æ€§ï¼Œä¾‹å¦‚ç­¾åæ ‡ç­¾ï¼Œè€Œä¸æ˜¯ä»…ä»…ä¾é  git-crypt æ¥ä¿è¯å®Œæ•´æ€§ã€‚</p>
<p>ä½¿ç”¨ git-crypt åŠ å¯†çš„æ–‡ä»¶ä¸èƒ½ç”¨ git-apply æ‰“è¡¥ä¸ï¼Œé™¤éè¡¥ä¸æœ¬èº«ä¹Ÿæ˜¯åŠ å¯†çš„ã€‚è¦ç”Ÿæˆä¸€ä¸ªåŠ å¯†çš„è¡¥ä¸ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ <code>git diff --no-textconv --binary</code> â€‹ã€‚æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ git å¤–éƒ¨ä½¿ç”¨ patch å‘½ä»¤æ¥æ‰“æ˜æ–‡è¡¥ä¸ã€‚</p>
<p>git-crypt åœ¨ä¸€äº›ç¬¬ä¸‰æ–¹ git å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ä¸Šæ— æ³•å¯é å·¥ä½œï¼Œä¾‹å¦‚ <a href="https://jira.atlassian.com/browse/SRCTREE-2511" rel="noopener noreferrer" target="_blank">Atlassian SourceTree</a> å’Œ GitHub for Macã€‚æ–‡ä»¶å¯èƒ½ä¼šä¿æŒæœªåŠ å¯†çŠ¶æ€ã€‚</p>
<h2 id="gitattributes">Gitattributes æ–‡ä»¶</h2>
<p>.gitattributes æ–‡ä»¶çš„æ–‡æ¡£ä½äº gitattributes (5) æ‰‹å†Œé¡µé¢ä¸­ã€‚æ–‡ä»¶åŒ¹é…æ¨¡å¼ä¸. gitignore ä¸­ä½¿ç”¨çš„æ ¼å¼ç›¸åŒï¼Œè¯¦æƒ…å¯å‚è§ gitignore (5) æ‰‹å†Œé¡µé¢ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»…æŒ‡å®šä¸€ä¸ªç›®å½•ï¼ˆä¾‹å¦‚ <code>/dir/</code> â€‹ï¼‰ä¸è¶³ä»¥å¯¹è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶è¿›è¡ŒåŠ å¯†ã€‚</p>
<p>å¦è¯·æ³¨æ„ï¼Œ<code>dir/*</code> â€‹æ¨¡å¼ä¸ä¼šåŒ¹é… <code>dir</code> â€‹å­ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚å¦‚æœè¦åŠ å¯†æ•´ä¸ª <code>dir</code> â€‹å­æ ‘ï¼Œè¯·ä½¿ç”¨ <code>dir/**</code> â€‹ï¼š</p>
<pre class="highlight"><code>dir/** filter=git-crypt diff=git-crypt</code></pre>
<p>.gitattributes æ–‡ä»¶ä¸èƒ½è¢«åŠ å¯†ï¼Œå› æ­¤è¯·ç¡®ä¿é€šé…ç¬¦ä¸ä¼šæ„å¤–åœ°åŒ¹é…åˆ°å®ƒã€‚å¦‚æœ‰å¿…è¦ï¼Œä½ å¯ä»¥åƒè¿™æ ·å°† .gitattributes æ’é™¤åœ¨åŠ å¯†ä¹‹å¤–ï¼š</p>
<pre class="highlight"><code>.gitattributes !filter !diff</code></pre>
    </article>
    <aside class="toc" id="toc">
      <div class="toc-title">å¤§çº²</div>
      <div class="toc">
<ul>
<li><a href="#git-crypt">git-crypt å®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç¿»è¯‘</a><ul>
<li><a href="#git-crypt-git">git-crypt - Git ä¸­çš„é€æ˜æ–‡ä»¶åŠ å¯†</a></li>
<li><a href="#git-crypt_1">æ„å»º git-crypt</a></li>
<li><a href="#git-crypt_2">ä½¿ç”¨ git-crypt</a></li>
<li><a href="#_1">å½“å‰çŠ¶æ€</a></li>
<li><a href="#_2">å®‰å…¨æ€§</a></li>
<li><a href="#_3">å±€é™æ€§</a></li>
<li><a href="#gitattributes">Gitattributes æ–‡ä»¶</a></li>
</ul>
</li>
</ul>
</div>

    </aside>
  </main>

  <footer class="site-footer">
    <div class="container" style="text-align: center;">
      <div>Â© 2024 - 2025 wardenxyz</div>
      <div>MIT License</div>
    </div>
  </footer>

  <button id="backToTop" class="back-to-top" aria-label="å›åˆ°é¡¶éƒ¨" title="å›åˆ°é¡¶éƒ¨">â†‘</button>

  <div class="search-modal" id="searchModal" role="dialog" aria-modal="true" aria-labelledby="searchModalLabel">
    <div class="search-modal__panel">
      <div class="search-modal__header">
        <div class="search-modal__title" id="searchModalLabel">æœç´¢</div>
        <button class="icon-button search-close" id="searchClose" aria-label="å…³é—­æœç´¢">âœ•</button>
      </div>
      <div class="search-modal__body">
        <label class="search-input-wrapper" for="searchInput">
          <span class="search-input-icon">ğŸ”</span>
          <input type="search" id="searchInput" placeholder="æœç´¢æ–‡ç« ..." aria-label="æœç´¢æ–‡ç« " autocomplete="off" />
        </label>
        <div class="search-results" id="searchResults" role="listbox" aria-label="æœç´¢ç»“æœ" aria-live="polite" aria-expanded="false"></div>
      </div>
    </div>
  </div>

  <!-- Main JavaScript with defer for better performance -->
  <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js" defer></script>
  <script src="../../static/main.js" defer></script>
  <!-- Only load performance tooling in dev / when explicitly requested -->
  <script>
    (function(){
      try{
        var isLocal = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
        var params = new URLSearchParams(location.search || '');
        if(isLocal || params.get('debug-perf') === '1'){
          var s = document.createElement('script');
          s.src = '../../static/performance.js';
          s.defer = true;
          document.head.appendChild(s);
        }
      }catch(_e){/* noop */}
    })();
  </script>
</body>
</html>
