<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ffmpeg è‡ªç”¨å‘½ä»¤</title>
  <link rel="stylesheet" href="../../static/style.css" />
  <link rel="icon" href="../../static/favicon.svg" type="image/svg+xml" />
  <meta name="color-scheme" content="light dark" />
  <!-- Apply saved theme early to avoid FOUC -->
  <script>
    (function(){
      try{
        var t = localStorage.getItem('theme');
        if(t === 'light' || t === 'dark'){
          document.documentElement.setAttribute('data-theme', t);
        }
      }catch(_e){/* noop */}
    })();
  </script>
  
  <!-- MathJax Configuration -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true,
        tags: 'ams'
      },
      options: {
        ignoreHtmlClass: 'tex2jax_ignore',
        processHtmlClass: 'tex2jax_process'
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
  </script>
  <!-- Mermaid Diagram -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js" defer></script>
  <script>
    // Initialize Mermaid when DOM is ready
    document.addEventListener('DOMContentLoaded', function(){
      if(window.mermaid && mermaid.initialize){
        // Respect explicit data-theme over system preference
        const dt = document.documentElement.getAttribute('data-theme');
        const theme = dt === 'dark' ? 'dark' : (dt === 'light' ? 'default' : ((window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'default'));
        mermaid.initialize({ startOnLoad: true, theme });
        if(mermaid.run){
          try{ mermaid.run({ querySelector: '.mermaid' }); }catch(e){}
        }
      }
    });
  </script>
</head>
<body data-base="../../">
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="../../index.html">My Blog</a>
  <button class="menu-toggle" id="menuToggle" aria-label="æ‰“å¼€èœå•" aria-controls="primaryNav" aria-expanded="false">â˜°</button>
      <div class="search" role="search">
        <input type="search" id="searchInput" placeholder="æœç´¢æ–‡ç« ..." aria-label="æœç´¢æ–‡ç« " autocomplete="off" />
        <div class="search-results" id="searchResults" role="listbox" aria-label="æœç´¢ç»“æœ"></div>
      </div>
      <button class="theme-toggle" id="themeToggle" aria-label="åˆ‡æ¢ä¸»é¢˜" title="åˆ‡æ¢ä¸»é¢˜">ğŸ–¥ï¸</button>
      <nav class="nav" id="primaryNav">
        <a class="nav-link" href="../../index.html">é¦–é¡µ</a>
        <a class="nav-link" href="../../categories.html">Categories</a>
        <a class="nav-link" href="../../tags.html">Tags</a>
        <a class="nav-link github" href="https://github.com/wardenxyz" target="_blank" rel="noopener">GitHub</a>
      </nav>
    </div>
  </header>

  <main class="container layout layout-3">
    <aside class="sidebar-col" id="sidebar">
      <nav class="sidebar" aria-label="æ‰€æœ‰æ–‡ç« "><div class="sidebar-group"><div class="sidebar-year">Others</div><ul><li><a href="../../index.html">éšä¾¿å†™å†™</a></li><li><a href="../../categories.html">Categories</a></li><li><a href="../../tags.html">Tags</a></li></ul></div><div class="sidebar-group"><div class="sidebar-year">2025</div><ul><li><a href="../2025/SOPS.html">SOPS:Secrets OPerationS</a></li><li><a href="../2025/age.html">age-note</a></li><li><a href="../2025/yt-dlp.html">yt-dlp ä½¿ç”¨</a></li><li><a href="../2025/cross-platform-byte-control.md.html">è·¨ç³»ç»Ÿé¿å…æ¢è¡Œç¬¦å¯¼è‡´å­—èŠ‚å·®å¼‚çš„æ–¹æ³•</a></li><li><a href="../2025/introduce-passkey.html">Passkey:Secure,Convenient Login</a></li><li><a href="../2025/npm-config.html">ä¿®æ”¹ npm node_modules ä½ç½®</a></li><li><a href="../2025/powershell-get-command.html">PowerShell Get-Command å‘½ä»¤</a></li><li><a href="../2025/background-color.html">èƒŒæ™¯é¢œè‰²</a></li><li><a href="../2025/git-hook.html">è‡ªç”¨ git hook</a></li><li><a href="../2025/typst-syntax-simple-introduction.html">Typst è¯­æ³•ç®€å•ä»‹ç»</a></li><li><a href="../2025/shut-wps-background-runing.html">å…³é—­ WPS åå°è¿è¡Œ</a></li><li><a href="../2025/font.html">ä¸ªäººå­—ä½“</a></li><li><a href="../2025/github-avatar.html">GitHub å¤´åƒ</a></li><li><a href="../2025/regex-note.html">æ­£åˆ™è¡¨è¾¾å¼ç®€æ˜æŒ‡å—</a></li><li><a href="../2025/Rollback-commit.html">å›æ»šæäº¤</a></li><li><a href="../2025/use_python_gen_site.html">ä½¿ç”¨ Python ç”Ÿæˆé™æ€ç½‘é¡µ</a></li><li><a href="../2025/install_wsl2_and_to_d_disk.html">å®‰è£… WSL2 å¹¶è¿ç§»åˆ° D ç›˜</a></li><li><a href="../2025/zed_use_typstyle.html">åœ¨ zed ä¸Šé…ç½® typstyle</a></li><li><a href="../2025/Rust_Windows_Config.html">åœ¨ Windows ä¸Šé…ç½® Rust ç¯å¢ƒ</a></li><li><a href="../2025/conda_note.html">conda ä½¿ç”¨ç¬”è®°</a></li><li><a href="../2025/Zed_set_OpenAI_API_Compatible_model.html">åœ¨ Zed Editor ä¸­é…ç½® OpenAI API å…¼å®¹çš„æ¨¡å‹</a></li><li><a href="../2025/zed_use.html">zed ä½¿ç”¨ç¬”è®°</a></li><li><a href="../2025/ollama_run_deepseek.html">ollama è¿è¡Œ DeepSeek æ¨¡å‹</a></li></ul></div><div class="sidebar-group"><div class="sidebar-year">2024</div><ul><li><a href="pull_request_steps.html">Pull Request çš„æ­¥éª¤</a></li><li><a href="Typst_note.html">Typst ç¬”è®°</a></li><li><a href="git_reset.html">git é‡ç½®å½“å‰åˆ†æ”¯</a></li><li><a href="vitepress_note.html">vitepress å­¦ä¹ ç¬”è®°</a></li><li><a href="deploy_gitHub_page.html">GitHub page æ­å»ºå­¦ä¹ ç¬”è®°</a></li><li><a href="Linux_note.html">Linux å­¦ä¹ ç¬”è®°</a></li><li><a href="OpenSSL_encrypt_note.html">OpenSSL åŠ è§£å¯†é€ŸæŸ¥ç¬”è®°</a></li><li><a href="python_note.html">python å­¦ä¹ ç¬”è®°</a></li><li><a href="lazy.nvim_note.html">lazy.nvim å­¦ä¹ ç¬”è®°</a></li><li><a href="git-izer_note.html">git-sizer å­¦ä¹ ç¬”è®°</a></li><li><a href="git_force_overwrite_local_repo.html">git å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»“åº“</a></li><li><a href="bilibili_embedding_code.html">Bç«™åµŒå…¥ä»£ç </a></li><li><a href="personal_software.html">ä¸ªäººè‡ªç”¨è½¯ä»¶</a></li><li><a href="you-get_note.html">ç”¨ you-get ä¸‹è½½Bç«™è§†é¢‘</a></li><li><a href="git-crypt_note.html">git-crypt å­¦ä¹ ç¬”è®°</a></li><li><a href="gen_GPG_key.html">ç”Ÿæˆ GPG å¯†é’¥</a></li><li><a href="git-crypt_official_doc.html">git-crypt å®˜æ–¹æ–‡æ¡£</a></li><li><a href="git-crypt_official_doc_zh.html">git-crypt å®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç¿»è¯‘</a></li><li><a href="README_outline.html">README æ–‡æ¡£ç»“æ„</a></li><li><a href="git_commit_message_standard.html">git commit message è§„èŒƒ</a></li><li><a href="vscode_snippets_variable.html">vscode snippets é¢„ç½®å˜é‡</a></li><li><a href="modern_cryptography.html">ç°ä»£åŠ å¯†å­¦</a></li><li><a href="former_doctor_who.html">ç¥ç§˜åšå£«å¤æ´»æ—¶é—´è¡¨</a></li><li><a href="ffmpeg_note.html" class="active">ffmpeg è‡ªç”¨å‘½ä»¤</a></li><li><a href="qqmail_third_party_config.html">ç¬¬ä¸‰æ–¹é‚®ç®±å®¢æˆ·ç«¯é…ç½®QQmail & Foxmail</a></li><li><a href="git_Cli.html">git å‘½ä»¤æ‰‹å†Œ</a></li><li><a href="LaTeX_note.html">LaTeX ä¸å¸Œè…Šå­—æ¯å¯¹ç…§è¡¨</a></li><li><a href="git_branch.html">git åˆ†æ”¯æ“ä½œ</a></li><li><a href="remove_file_from_git_history.html">ä» git æäº¤ä¸­ç§»é™¤æ–‡ä»¶</a></li><li><a href="vim_note.html">Vim é«˜æ•ˆé€ŸæŸ¥ç¬”è®°</a></li><li><a href="obsidian_shortcut_key.html">obsidianå¿«æ·é”®</a></li><li><a href="android_QQ_file_storage_path.html">æ‰‹æœºQQæ–‡ä»¶å­˜å‚¨è·¯å¾„</a></li><li><a href="browser_UA_value.html">æµè§ˆå™¨UAå€¼</a></li><li><a href="gpg_communication.html">GPG åœ¨é€šä¿¡ä¸­çš„ç®€å•ç†è§£</a></li><li><a href="vscode_note.html">VSCode é«˜æ•ˆä½¿ç”¨æŒ‡å—</a></li></ul></div></nav>
    </aside>
    <article class="content" id="content">
  <div class="post-meta" aria-label="æ–‡ç« å…ƒä¿¡æ¯"><span class="meta-item meta-date" title="å‘å¸ƒæ—¥æœŸ">ğŸ“… 2024-04-08</span><span class="meta-item" title="åˆ†ç±»">ğŸ“‚ <span class="badge badge-cat">è®¡ç®—æœº</span></span><span class="meta-item" title="æ ‡ç­¾">ğŸ·ï¸ <span class="badge badge-tag">ffmpeg</span></span></div>
  <h1 id="ffmpeg">ffmpeg è‡ªç”¨å‘½ä»¤</h1>
<p>ä¸‹è½½é“¾æ¥ï¼š<a href="https://www.gyan.dev/ffmpeg/builds/" rel="noopener noreferrer" target="_blank">ffmpeg</a></p>
<p>åˆå­¦è€…ç”¨æˆ·å»ºè®®é€‰æ‹© <code>ffmpeg-git-essentials.7z</code></p>
<hr/>
<h2 id="_1">æŸ¥çœ‹è§†é¢‘ä¸€å…±æœ‰å¤šå°‘å¸§æ•°</h2>
<pre class="highlight"><code class="language-bash">ffprobe -v error -select_streams v:0 -show_entries stream=nb_frames -of default=nokey=1:noprint_wrappers=1 your_video_file.mp4</code></pre>
<hr/>
<h2 id="_2">æå‡è§†é¢‘é”åº¦</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -vf "unsharp" output.mp4</code></pre>
<hr/>
<h2 id="_3">æå‡è§†é¢‘åˆ†è¾¨ç‡</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -vf "scale=3840:2160" output.mp4</code></pre>
<hr/>
<h2 id="_4">æŸ¥çœ‹è§†é¢‘åˆ†è¾¨ç‡</h2>
<pre class="highlight"><code class="language-bash">ffprobe -v error -select_streams v:0 -show_entries stream=width,height -of csv=s=x:p=0 video.mp4</code></pre>
<hr/>
<h2 id="_5">æŸ¥çœ‹è§†é¢‘å…ƒæ•°æ®</h2>
<pre class="highlight"><code class="language-bash">ffprobe -v quiet -print_format json -show_format your_video_file.mp4</code></pre>
<hr/>
<h2 id="_6">æŠŠå¤šä¸ªè§†é¢‘åˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘</h2>
<pre class="highlight"><code class="language-txt">file 'input3.mp4'
file 'input1.mp4'
file 'input2.mp4'</code></pre>
<p>æŠŠè¿™ä¸ª <code>txt</code> æ–‡ä»¶å’Œå¾…å¤„ç†çš„è§†é¢‘æ”¾åˆ°åŒä¸€æ–‡ä»¶å¤¹ä¸‹ï¼Œ<code>ffmpeg</code> ä¼šæŒ‰ç…§ä»ä¸Šå€’ä¸‹çš„é¡ºåºåˆå¹¶è§†é¢‘</p>
<p>ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆå¹¶è§†é¢‘ï¼š</p>
<pre class="highlight"><code class="language-bash">ffmpeg -f concat -safe 0 -i files.txt -c copy output.mp4</code></pre>
<hr/>
<h2 id="_7">è§†é¢‘è½¬æ¢ä¸ºä¸åŒçš„æ ¼å¼</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 output.avi</code></pre>
<hr/>
<h2 id="_8">å‰ªåˆ‡è§†é¢‘</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -ss 00:00:30 -t 00:00:10 -c:v libx264 -c:a aac output.mp4</code></pre>
<p>ä½¿ç”¨ ffmpeg å‰ªåˆ‡è§†é¢‘ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>-ss</code> é€‰é¡¹æ¥æŒ‡å®šå¼€å§‹æ—¶é—´ï¼Œä½¿ç”¨ <code>-t</code> é€‰é¡¹æ¥æŒ‡å®šæŒç»­æ—¶é—´ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³ä»è§†é¢‘çš„ç¬¬ 30 ç§’å¼€å§‹ï¼Œå‰ªåˆ‡ 10 ç§’çš„è§†é¢‘ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸Šå‘½ä»¤</p>
<p><code>-c copy</code> æŒ‡å®šäº†å°†åŸå§‹æ•°æ®æµå¤åˆ¶åˆ°è¾“å‡ºæ–‡ä»¶ï¼Œè€Œä¸è¿›è¡Œä»»ä½•é‡æ–°ç¼–ç ï¼ˆç”¨ <code>-c copy</code> å‰ªåˆ‡çš„è§†é¢‘ä¸ä¼šå°†è§†é¢‘é‡æ–°ç¼–ç ï¼Œè¿™ç§æ–¹å¼é€Ÿåº¦éå¸¸å¿«ï¼Œä½†å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šåœ¨éå…³é”®å¸§ï¼ˆIå¸§ï¼‰çš„ä½ç½®åˆ‡å‰²è§†é¢‘ï¼Œå¯¼è‡´åˆ‡å‰²å‡ºæ¥çš„è§†é¢‘åœ¨å¼€å§‹çš„ä¸€æ®µæ—¶é—´å†…æ— æ³•æ­£å¸¸æ’­æ”¾ã€‚æ‰€ä»¥æˆ‘ä»¬ç”¨ä»¥ä¸Šæ–°çš„å‘½ä»¤ï¼‰</p>
<p>æ³¨æ„ï¼Œæ—¶é—´å¯ä»¥ç”¨æ—¶:åˆ†:ç§’çš„æ ¼å¼æŒ‡å®šï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨ç§’æ•°æŒ‡å®šã€‚ä¾‹å¦‚ï¼Œ<code>00:01:30</code> å’Œ <code>90</code> éƒ½è¡¨ç¤º 1 åˆ† 30 ç§’ã€‚</p>
<hr/>
<h2 id="_9">æŠŠéŸ³é¢‘ä»è§†é¢‘ä¸­åˆ†ç¦»å‡ºæ¥</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -vn output.aac</code></pre>
<p>åœ¨è¿™é‡Œï¼Œ<code>input.mp4</code> æ˜¯ä½ çš„è¾“å…¥æ–‡ä»¶ï¼Œ<code>-vn</code> é€‰é¡¹ç¦ç”¨äº†è§†é¢‘æµï¼Œ<code>output.aac</code> æ˜¯è¾“å‡ºçš„éŸ³é¢‘æ–‡ä»¶ã€‚</p>
<hr/>
<h2 id="_10">ç¦ç”¨éŸ³é¢‘ï¼ŒæŠŠè§†é¢‘æ–‡ä»¶åˆ†ç¦»å‡ºæ¥</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -an output.mp4</code></pre>
<p>åœ¨è¿™é‡Œï¼Œ<code>input.mp4</code> æ˜¯ä½ çš„è¾“å…¥æ–‡ä»¶ï¼Œ<code>-an</code> é€‰é¡¹ç¦ç”¨äº†éŸ³é¢‘æµï¼Œ<code>output.mp4</code> æ˜¯è¾“å‡ºçš„è§†é¢‘æ–‡ä»¶ã€‚</p>
<hr/>
<h2 id="_11">æ”¹å˜éŸ³é¢‘æ ¼å¼</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp3 output.aac</code></pre>
<hr/>
<h2 id="_12">è°ƒæ•´è§†é¢‘çš„åˆ†è¾¨ç‡</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -vf "scale=1280:720" output.mp4</code></pre>
<p>åœ¨è¿™é‡Œï¼Œ<code>input.mp4</code> æ˜¯ä½ çš„è¾“å…¥æ–‡ä»¶ï¼Œ<code>scale=1280:720</code> æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œç”¨äºå°†è§†é¢‘çš„åˆ†è¾¨ç‡è°ƒæ•´ä¸º <code>1280x720</code>ï¼Œ<code>output.mp4</code> æ˜¯è¾“å‡ºæ–‡ä»¶ã€‚</p>
<hr/>
<h2 id="_13">æ·»åŠ è§†é¢‘æ°´å°</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -i watermark.png -filter_complex "overlay=W-w-10:H-h-10" output.mp4</code></pre>
<p>åœ¨è¿™é‡Œï¼Œ<code>input.mp4</code> æ˜¯ä½ çš„è¾“å…¥è§†é¢‘æ–‡ä»¶ï¼Œ<code>watermark.png</code> æ˜¯ä½ çš„æ°´å°å›¾ç‰‡ï¼Œ<code>overlay=W-w-10:H-h-10</code> æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå®ƒå°†æ°´å°å›¾ç‰‡æ”¾åœ¨è§†é¢‘çš„å³ä¸‹è§’ï¼Œç¦»è¾¹ç¼˜ <code>10</code> åƒç´ ï¼Œ<code>output.mp4</code> æ˜¯è¾“å‡ºæ–‡ä»¶ã€‚</p>
<p>æ³¨æ„ï¼Œ<code>W</code> å’Œ <code>H</code> åˆ†åˆ«ä»£è¡¨è§†é¢‘çš„å®½åº¦å’Œé«˜åº¦ï¼Œ<code>w</code> å’Œ <code>h</code> åˆ†åˆ«ä»£è¡¨æ°´å°çš„å®½åº¦å’Œé«˜åº¦ã€‚ä½ å¯ä»¥è°ƒæ•´è¿™äº›å€¼æ¥æ”¹å˜æ°´å°çš„ä½ç½®ã€‚</p>
<hr/>
<h2 id="_14">è½¬ç è§†é¢‘</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -b:v 1000k -b:a 128k output.mp4</code></pre>
<p><code>input.mp4</code> æ˜¯ä½ çš„è¾“å…¥è§†é¢‘æ–‡ä»¶ï¼Œ<code>1000k</code> æ˜¯è§†é¢‘æ¯”ç‰¹ç‡ï¼Œ<code>128k</code> æ˜¯éŸ³é¢‘æ¯”ç‰¹ç‡ï¼Œ<code>output.mp4</code> æ˜¯è¾“å‡ºæ–‡ä»¶ã€‚</p>
<hr/>
<h2 id="_15">å€’æ”¾è§†é¢‘</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -vf "reverse" output.mp4</code></pre>
<p><code>input.mp4</code> æ˜¯ä½ çš„è¾“å…¥æ–‡ä»¶ï¼Œ<code>-vf "reverse"</code> é€‰é¡¹å°†è§†é¢‘æµå€’æ”¾ï¼Œ<code>output.mp4</code> æ˜¯è¾“å‡ºçš„è§†é¢‘æ–‡ä»¶</p>
<hr/>
<h2 id="_16">å½•åˆ¶å½“å‰é¡µé¢è§†é¢‘</h2>
<ul>
<li>Windows ä¸‹ï¼š</li>
</ul>
<pre class="highlight"><code class="language-bash">ffmpeg -f gdigrab -framerate 30 -i desktop output.mp4</code></pre>
<ul>
<li>Linux ä¸‹ï¼š</li>
</ul>
<pre class="highlight"><code class="language-bash">ffmpeg -f x11grab -video_size 1920x1080 -framerate 30 -i :0.0 output.mp4</code></pre>
<p>æŒ‰ä¸‹ <code>q</code> åœæ­¢å½•åˆ¶</p>
<hr/>
<h2 id="gif">è§†é¢‘è½¬æ¢ä¸º gif</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -vf "fps=10,scale=320:-1:flags=lanczos" -c:v gif output.gif</code></pre>
<p>åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼š</p>
<ul>
<li><code>input.mp4</code> æ˜¯ä½ çš„è¾“å…¥è§†é¢‘æ–‡ä»¶ã€‚</li>
<li><code>-vf "fps=10,scale=320:-1:flags=lanczos"</code> æ˜¯ä¸€ä¸ªè§†é¢‘è¿‡æ»¤å™¨é“¾ã€‚<code>fps=10</code> å°†å¸§ç‡è®¾ç½®ä¸º 10 FPSï¼ˆå¸§æ¯ç§’ï¼‰ï¼Œ<code>scale=320:-1</code> å°†è¾“å‡º GIF çš„å®½åº¦è®¾ç½®ä¸º 320 åƒç´ ï¼Œé«˜åº¦ä¼šè‡ªåŠ¨è°ƒæ•´ä»¥ä¿æŒå®½é«˜æ¯”ï¼Œ<code>flags=lanczos</code> ä½¿ç”¨ Lanczos é‡é‡‡æ ·ã€‚</li>
<li><code>-c:v gif</code> è®¾ç½®è¾“å‡ºè§†é¢‘ç¼–ç å™¨ä¸º GIFã€‚</li>
<li><code>output.gif</code> æ˜¯è¾“å‡ºçš„ GIF æ–‡ä»¶ã€‚</li>
</ul>
<hr/>
<h2 id="gif_1">å°† GIF è½¬æ¢ä¸ºè§†é¢‘</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.gif output.mp4</code></pre>
<hr/>
<h2 id="_17">æŸ¥çœ‹è§†é¢‘å°ºå¯¸</h2>
<pre class="highlight"><code class="language-bash">ffprobe -v error -select_streams v:0 -show_entries stream=width,height -of csv=s=x:p=0 input.mp4</code></pre>
<p>åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼š</p>
<ul>
<li><code>-v error</code> ä»…æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯ã€‚</li>
<li><code>-select_streams v:0</code> é€‰æ‹©ç¬¬ä¸€ä¸ªè§†é¢‘æµã€‚</li>
<li><code>-show_entries stream=width,height</code> æ˜¾ç¤ºè§†é¢‘æµçš„å®½åº¦å’Œé«˜åº¦ã€‚</li>
<li><code>-of csv=s=x:p=0</code> ä»¥ CSV æ ¼å¼è¾“å‡ºç»“æœï¼Œå­—æ®µä¹‹é—´ç”¨ 'x' åˆ†éš”ã€‚</li>
<li><code>input.mp4</code> æ˜¯ä½ è¦æŸ¥çœ‹å°ºå¯¸çš„è§†é¢‘æ–‡ä»¶ã€‚</li>
</ul>
<p>è¿™ä¸ªå‘½ä»¤ä¼šè¾“å‡ºç±»ä¼¼ <code>1280x720</code> è¿™æ ·çš„ç»“æœï¼Œè¡¨ç¤ºè§†é¢‘çš„å®½åº¦ä¸º 1280 åƒç´ ï¼Œé«˜åº¦ä¸º 720 åƒç´ ã€‚</p>
<hr/>
<h2 id="_18">å‰ªåˆ‡è§†é¢‘ç”»é¢</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -filter:v "crop=300:200:10:20" output.mp4</code></pre>
<p>åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼š</p>
<ul>
<li><code>-i input.mp4</code> æŒ‡å®šè¾“å…¥æ–‡ä»¶ã€‚</li>
<li><code>-filter:v "crop=300:200:10:20"</code> åº”ç”¨è§†é¢‘è¿‡æ»¤å™¨ã€‚"crop=300:200:10:20" æŒ‡å®šäº†å‰ªåˆ‡åŒºåŸŸçš„å®½åº¦ã€é«˜åº¦å’Œå·¦ä¸Šè§’åæ ‡ã€‚</li>
<li><code>output.mp4</code> æŒ‡å®šè¾“å‡ºæ–‡ä»¶ã€‚</li>
</ul>
<hr/>
<h2 id="_19">è°ƒæ•´è§†é¢‘çš„äº®åº¦</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -vf "eq=brightness=0.1" output.mp4</code></pre>
<p>åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼š</p>
<ul>
<li><code>-i input.mp4</code> æŒ‡å®šè¾“å…¥æ–‡ä»¶ã€‚</li>
<li><code>-vf "eq=brightness=0.1"</code> åº”ç”¨è§†é¢‘è¿‡æ»¤å™¨ã€‚"eq=brightness=0.1" å¢åŠ äº†è§†é¢‘çš„äº®åº¦ã€‚</li>
<li><code>output.mp4</code> æŒ‡å®šè¾“å‡ºæ–‡ä»¶ã€‚</li>
</ul>
<hr/>
<h2 id="_20">è°ƒæ•´è§†é¢‘çš„å¯¹æ¯”åº¦</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -vf "eq=contrast=1.5" output.mp4</code></pre>
<ul>
<li><code>-i input.mp4</code> æŒ‡å®šè¾“å…¥æ–‡ä»¶ã€‚</li>
<li><code>-vf "eq=contrast=1.5"</code> åº”ç”¨è§†é¢‘è¿‡æ»¤å™¨ã€‚"eq=contrast=1.5" å¢åŠ äº†è§†é¢‘çš„å¯¹æ¯”åº¦ã€‚</li>
<li><code>output.mp4</code> æŒ‡å®šè¾“å‡ºæ–‡ä»¶ã€‚</li>
</ul>
<hr/>
<h2 id="_21">æŸ¥çœ‹å›¾ç‰‡å°ºå¯¸</h2>
<pre class="highlight"><code class="language-bash">ffprobe -v error -select_streams v:0 -show_entries stream=width,height -of csv=s=x:p=0 image.jpg</code></pre>
<p>åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼š</p>
<ul>
<li><code>-v error</code> è¡¨ç¤ºåªæ‰“å°é”™è¯¯æ¶ˆæ¯ã€‚</li>
<li><code>-select_streams v:0</code> è¡¨ç¤ºé€‰æ‹©ç¬¬ä¸€ä¸ªè§†é¢‘æµï¼Œå¯¹äºå›¾ç‰‡ï¼Œå®ƒå°±æ˜¯å›¾ç‰‡æœ¬èº«ã€‚</li>
<li><code>-show_entries stream=width,height</code> è¡¨ç¤ºåªæ˜¾ç¤ºå®½åº¦å’Œé«˜åº¦ä¿¡æ¯ã€‚</li>
<li><code>-of csv=s=x:p=0</code> è¡¨ç¤ºä»¥ CSV æ ¼å¼è¾“å‡ºï¼Œå¹¶ä½¿ç”¨ x ä½œä¸ºåˆ†éš”ç¬¦ã€‚</li>
<li><code>image.jpg</code> æ˜¯ä½ è¦æ£€æŸ¥çš„å›¾ç‰‡æ–‡ä»¶ã€‚</li>
</ul>
<p>è¿™ä¸ªå‘½ä»¤å°†è¾“å‡ºå›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ï¼Œæ ¼å¼ä¸º <code>widthxheight</code>ã€‚</p>
<hr/>
<h2 id="m4s-ffmpeg-mp3-bilibili">m4s çš„è§†é¢‘ç”¨ ffmpeg è½¬æ¢ä¸º mp3 bilibili</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.m4s -vn -ab 128k output.mp3</code></pre>
<p>åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼š</p>
<ul>
<li><code>-i input.m4s</code> æŒ‡å®šäº†è¾“å…¥æ–‡ä»¶çš„åç§°ï¼Œä½ éœ€è¦å°† <code>input.m4s</code> æ›¿æ¢ä¸ºä½ çš„ m4s æ–‡ä»¶çš„å®é™…è·¯å¾„å’Œåç§°ã€‚</li>
<li><code>-vn</code> æ˜¯ä¸€ä¸ªé€‰é¡¹ï¼Œè¡¨ç¤ºåœ¨å¤„ç†è§†é¢‘æ—¶ä¸åŒ…æ‹¬ä»»ä½•è§†é¢‘æµã€‚è¿™å¯¹äºåªå¤„ç†éŸ³é¢‘æ–‡ä»¶éå¸¸æœ‰ç”¨ã€‚</li>
<li><code>-ab 128k</code> è®¾ç½®äº†éŸ³é¢‘æ¯”ç‰¹ç‡ä¸º 128 kbit/sï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´è¿™ä¸ªå€¼ã€‚</li>
<li><code>output.mp3</code> æ˜¯è¾“å‡ºæ–‡ä»¶çš„åç§°ï¼Œä½ éœ€è¦å°† <code>output.mp3</code> æ›¿æ¢ä¸ºä½ å¸Œæœ›ä¿å­˜çš„ mp3 æ–‡ä»¶çš„è·¯å¾„å’Œåç§°ã€‚</li>
</ul>
<hr/>
<h2 id="m4s-mp4-bilibili">æŠŠ m4s çš„è§†é¢‘è½¬æ¢ä¸º mp4 bilibili</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.m4s -codec copy output.mp4</code></pre>
<p>åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼š</p>
<ul>
<li><code>-i input.m4s</code> æŒ‡å®šäº†è¾“å…¥æ–‡ä»¶çš„åç§°ï¼Œä½ éœ€è¦å°† <code>input.m4s</code> æ›¿æ¢ä¸ºä½ çš„ m4s æ–‡ä»¶çš„å®é™…è·¯å¾„å’Œåç§°ã€‚</li>
<li><code>-codec copy</code> æ˜¯ä¸€ä¸ªé€‰é¡¹ï¼Œè¡¨ç¤ºåœ¨å¤„ç†è§†é¢‘æ—¶å¤åˆ¶åŸå§‹ç¼–ç ï¼Œä¸è¿›è¡Œä»»ä½•è½¬ç ã€‚</li>
<li><code>output.mp4</code> æ˜¯è¾“å‡ºæ–‡ä»¶çš„åç§°ï¼Œä½ éœ€è¦å°† <code>output.mp4</code> æ›¿æ¢ä¸ºä½ å¸Œæœ›ä¿å­˜çš„ mp4 æ–‡ä»¶çš„è·¯å¾„å’Œåç§°ã€‚</li>
</ul>
<p>è¯·æ³¨æ„ï¼Œè¿™ä¸ªå‘½ä»¤å‡è®¾ä½ çš„ m4s æ–‡ä»¶åŒ…å«äº†å¯ä»¥ç›´æ¥å¤åˆ¶åˆ° mp4 å®¹å™¨ä¸­çš„éŸ³é¢‘å’Œè§†é¢‘æµã€‚å¦‚æœä½ çš„ m4s æ–‡ä»¶ä¸­çš„éŸ³é¢‘æˆ–è§†é¢‘ç¼–ç ä¸å…¼å®¹ mp4ï¼Œä½ å¯èƒ½éœ€è¦è¿›è¡Œè½¬ç ã€‚</p>
<hr/>
<h2 id="bilibili">æŠŠè§†é¢‘å’ŒéŸ³é¢‘åˆå¹¶ bilibili</h2>
<pre class="highlight"><code class="language-bash">ffmpeg -i "your_video" -i "your_audio" -c:a aac -strict experimental "your_video.mp4</code></pre>
<hr/>
<h2 id="ffmpeg_1">ffmpeg é™ä½ç”»è´¨çš„å‘½ä»¤</h2>
<p>åœ¨ä½¿ç”¨ <code>ffmpeg</code> è¿›è¡Œè§†é¢‘å¤„ç†æ—¶ï¼Œæœ‰æ—¶éœ€è¦é™ä½è§†é¢‘çš„ç”»è´¨ä»¥å‡å°æ–‡ä»¶å¤§å°æˆ–é€‚åº”ç‰¹å®šçš„ç½‘ç»œä¼ è¾“éœ€æ±‚ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„ <code>ffmpeg</code> å‘½ä»¤æ¥é™ä½è§†é¢‘ç”»è´¨ï¼š</p>
<ol>
<li><strong>è°ƒæ•´è§†é¢‘æ¯”ç‰¹ç‡ï¼ˆBitrateï¼‰</strong>ï¼š</li>
</ol>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -b:v 1000k output.mp4</code></pre>
<p>è¿™æ¡å‘½ä»¤å°†è§†é¢‘çš„æ¯”ç‰¹ç‡è®¾ç½®ä¸º 1000 kbpsï¼Œä»è€Œé™ä½è§†é¢‘çš„ç”»è´¨ã€‚æ¯”ç‰¹ç‡è¶Šä½ï¼Œç”»è´¨è¶Šå·®ã€‚</p>
<ol start="2">
<li><strong>ä½¿ç”¨ CRFï¼ˆConstant Rate Factorï¼‰</strong>ï¼š</li>
</ol>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -c:v libx264 -crf 28 output.mp4</code></pre>
<p>CRF æ˜¯ x264 å’Œ x265 ç¼–ç å™¨çš„ä¸€ä¸ªå‚æ•°ï¼Œç”¨äºæ§åˆ¶è¾“å‡ºè§†é¢‘çš„è´¨é‡ã€‚CRF å€¼è¶Šå¤§ï¼Œè§†é¢‘è´¨é‡è¶Šä½ã€‚é»˜è®¤å€¼é€šå¸¸æ˜¯ 23ï¼ŒèŒƒå›´æ˜¯ 0-51ã€‚</p>
<ol start="3">
<li><strong>è°ƒæ•´åˆ†è¾¨ç‡</strong>ï¼š</li>
</ol>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -vf "scale=1280:720" output.mp4</code></pre>
<p>è¿™æ¡å‘½ä»¤å°†è§†é¢‘çš„åˆ†è¾¨ç‡è°ƒæ•´ä¸º 1280x720ï¼Œä»è€Œé™ä½ç”»è´¨ã€‚åˆ†è¾¨ç‡è¶Šä½ï¼Œç”»è´¨è¶Šå·®ã€‚</p>
<ol start="4">
<li><strong>åŒæ—¶è°ƒæ•´æ¯”ç‰¹ç‡å’Œåˆ†è¾¨ç‡</strong>ï¼š</li>
</ol>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -b:v 800k -vf "scale=640:360" output.mp4</code></pre>
<p>è¿™æ¡å‘½ä»¤åŒæ—¶é™ä½äº†è§†é¢‘çš„æ¯”ç‰¹ç‡å’Œåˆ†è¾¨ç‡ï¼Œè¿›ä¸€æ­¥é™ä½äº†ç”»è´¨ã€‚</p>
<ol start="5">
<li><strong>ä½¿ç”¨é¢„è®¾ï¼ˆPresetï¼‰</strong>ï¼š</li>
</ol>
<pre class="highlight"><code class="language-bash">ffmpeg -i input.mp4 -c:v libx264 -preset veryslow -crf 28 output.mp4</code></pre>
<p>é¢„è®¾å‚æ•°æ§åˆ¶ç¼–ç é€Ÿåº¦å’Œè¾“å‡ºè´¨é‡ä¹‹é—´çš„å¹³è¡¡ã€‚<code>veryslow</code> é¢„è®¾ä¼šèŠ±è´¹æ›´å¤šæ—¶é—´è¿›è¡Œç¼–ç ï¼Œä½†é€šå¸¸èƒ½äº§ç”Ÿæ›´å¥½çš„å‹ç¼©æ•ˆæœå’Œæ›´ä½çš„æ–‡ä»¶å¤§å°ã€‚å…¶ä»–é¢„è®¾æœ‰ <code>ultrafast</code>, <code>superfast</code>, <code>fast</code>, <code>medium</code>, <code>slow</code>, <code>slower</code> ç­‰ã€‚</p>
<h2 id="_22">æŸ¥çœ‹è§†é¢‘æ¸…æ™°åº¦</h2>
<pre class="highlight"><code class="language-bash">ffprobe -v error -select_streams v:0 -show_entries stream=width,height -of default=noprint_wrappers=1 input_video.mp4</code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä¼šæ‰“å°å‡ºè§†é¢‘çš„æ¸…æ™°åº¦</p>
    </article>
    <aside class="toc" id="toc">
      <div class="toc-title">å¤§çº²</div>
      <div class="toc">
<ul>
<li><a href="#ffmpeg">ffmpeg è‡ªç”¨å‘½ä»¤</a><ul>
<li><a href="#_1">æŸ¥çœ‹è§†é¢‘ä¸€å…±æœ‰å¤šå°‘å¸§æ•°</a></li>
<li><a href="#_2">æå‡è§†é¢‘é”åº¦</a></li>
<li><a href="#_3">æå‡è§†é¢‘åˆ†è¾¨ç‡</a></li>
<li><a href="#_4">æŸ¥çœ‹è§†é¢‘åˆ†è¾¨ç‡</a></li>
<li><a href="#_5">æŸ¥çœ‹è§†é¢‘å…ƒæ•°æ®</a></li>
<li><a href="#_6">æŠŠå¤šä¸ªè§†é¢‘åˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘</a></li>
<li><a href="#_7">è§†é¢‘è½¬æ¢ä¸ºä¸åŒçš„æ ¼å¼</a></li>
<li><a href="#_8">å‰ªåˆ‡è§†é¢‘</a></li>
<li><a href="#_9">æŠŠéŸ³é¢‘ä»è§†é¢‘ä¸­åˆ†ç¦»å‡ºæ¥</a></li>
<li><a href="#_10">ç¦ç”¨éŸ³é¢‘ï¼ŒæŠŠè§†é¢‘æ–‡ä»¶åˆ†ç¦»å‡ºæ¥</a></li>
<li><a href="#_11">æ”¹å˜éŸ³é¢‘æ ¼å¼</a></li>
<li><a href="#_12">è°ƒæ•´è§†é¢‘çš„åˆ†è¾¨ç‡</a></li>
<li><a href="#_13">æ·»åŠ è§†é¢‘æ°´å°</a></li>
<li><a href="#_14">è½¬ç è§†é¢‘</a></li>
<li><a href="#_15">å€’æ”¾è§†é¢‘</a></li>
<li><a href="#_16">å½•åˆ¶å½“å‰é¡µé¢è§†é¢‘</a></li>
<li><a href="#gif">è§†é¢‘è½¬æ¢ä¸º gif</a></li>
<li><a href="#gif_1">å°† GIF è½¬æ¢ä¸ºè§†é¢‘</a></li>
<li><a href="#_17">æŸ¥çœ‹è§†é¢‘å°ºå¯¸</a></li>
<li><a href="#_18">å‰ªåˆ‡è§†é¢‘ç”»é¢</a></li>
<li><a href="#_19">è°ƒæ•´è§†é¢‘çš„äº®åº¦</a></li>
<li><a href="#_20">è°ƒæ•´è§†é¢‘çš„å¯¹æ¯”åº¦</a></li>
<li><a href="#_21">æŸ¥çœ‹å›¾ç‰‡å°ºå¯¸</a></li>
<li><a href="#m4s-ffmpeg-mp3-bilibili">m4s çš„è§†é¢‘ç”¨ ffmpeg è½¬æ¢ä¸º mp3 bilibili</a></li>
<li><a href="#m4s-mp4-bilibili">æŠŠ m4s çš„è§†é¢‘è½¬æ¢ä¸º mp4 bilibili</a></li>
<li><a href="#bilibili">æŠŠè§†é¢‘å’ŒéŸ³é¢‘åˆå¹¶ bilibili</a></li>
<li><a href="#ffmpeg_1">ffmpeg é™ä½ç”»è´¨çš„å‘½ä»¤</a></li>
<li><a href="#_22">æŸ¥çœ‹è§†é¢‘æ¸…æ™°åº¦</a></li>
</ul>
</li>
</ul>
</div>

    </aside>
  </main>

  <footer class="site-footer">
    <div class="container" style="text-align: center;">
      <div>Â© 2024 - 2025 wardenxyz</div>
      <div>MIT License</div>
    </div>
  </footer>

  <button id="backToTop" class="back-to-top" aria-label="å›åˆ°é¡¶éƒ¨">â†‘</button>

  <script src="../../static/main.js"></script>
</body>
</html>
